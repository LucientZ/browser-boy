<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browser Boy</title>
    <link rel="stylesheet" href="src/css/main.css">
    <link rel="icon" type="image/webp" href="static/img/favicon.webp">
    <script type="text/javascript" src="src/js/globals.js"></script>
    <script type="text/javascript" src="src/js/memory.js"></script>
    <script type="text/javascript" src="src/js/io.js"></script>
    <script type="text/javascript" src="src/js/cpu.js"></script>
    <script type="text/javascript" src="src/js/main.js"></script>
</head>

<body id="rom-drop-zone" ondrop="dropHandler(event);" ondragover="dragOverHandler(event);">
    <h1>Drag a game ROM on this page to start</h1>
    <h1 id="game-title">No Game Loaded</h1>
    </div>
    <div class="evenly-spaced-row">
        <div id="game-screen-container">
            <h1>Screen</h1>
            <canvas id="game-screen" width="160" height="144"></canvas>
            <div class="game-controls">
                <div class="evenly-spaced-row">
                    <button class="control-button" aria-label="Start" aria-details="Make the game start running" onclick="Globals.frozen = false;">Start</button>
                    <button class="control-button" aria-label="Stop" aria-details="Stop the game running" onclick="freezeProgram();">Stop</button>
                    <button class="control-button" aria-label="Step" aria-details="Steps one iteration through the program" onclick="doProgramIteration();">Step</button>
                    <button class="control-button" aria-label="Unmute Audio" aria-details="Enables or disables audio playback" onclick="toggleAudio();" id="audio-toggle">Unmute Audio</button>
                </div>
                <div style="display: flex; flex-direction: row;">
                    <label>Runtime Speed</label>
                    <input id="runtime-speed-slider" class="control-slider" type="range" min="100" max="3000" class="slider">
                </div>
                <div style="display: flex; flex-direction: row;">
                    <label>Volume Control</label>
                    <input id="volume-slider" class="control-slider" type="range" min="0" max="100" value="10" class="slider">
                </div>
                <div class="evenly-spaced-row">
                    <button class="control-button" aria-label="Download Save" onclick="downloadSaveData();">Download Save Data</button>
                </div>
                <div class="evenly-spaced-row">
                    <button class="control-button" aria-label="Upload Save" onclick="uploadSaveData();">Upload Save Data</button>
                    <input style="display: none;" id="save-upload" type="file" accept=".sav,.srm" name="Cartridge Ram Upload">
                </div>
            </div>
        </div>
        <div>
            <h1>Controls</h1>
            <ul class="controls">
                <li>Up = w/up-arrow</li>
                <li>Down = s/down-arrow</li>
                <li>Left = a/left-arrow</li>
                <li>Right = d/right-arrow</li>
                <li>A = z/n</li>
                <li>B = x/m</li>
                <li>Start = 1</li>
                <li>Select = 2</li>
            </ul>
        </div>
    </div>
    <div class="evenly-spaced-row">
        <div>
            <h1>VRAM 0 Tile Block</h1>
            <canvas id="vram-tileblock-0" class="vram-inspector" width="128" height="192"></canvas>
        </div>
        <div>
            <h1>VRAM 1 Tile Block</h1>
            <canvas id="vram-tileblock-1" class="vram-inspector" width="128" height="192"></canvas>
        </div>
    </div>
    <h2>Serial Output:</h2>
    <p id="serial-output"></p>
</body>

</html>